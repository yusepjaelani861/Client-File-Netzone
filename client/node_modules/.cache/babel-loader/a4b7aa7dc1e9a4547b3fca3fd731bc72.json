{"ast":null,"code":"import _slicedToArray from\"/Users/yusepjaelani/Netzone/Project/nearven/file-service/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Register(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),username=_useState4[0],setUsername=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),passwordConfirmation=_useState8[0],setPasswordConfirmation=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),error=_useState10[0],setError=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),loading=_useState12[0],setLoading=_useState12[1];var handleSubmit=function handleSubmit(e){e.preventDefault();setLoading(true);fetch(\"\".concat(process.env.REACT_APP_BACKEND_URL,\"/api/v1/auth/register\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({username:username,email:email,password:password,password_confirmation:passwordConfirmation})}).then(function(res){return res.json();}).then(function(data){if(data.success===false){setError(data.message);setLoading(false);}else{setLoading(false);//   history.push(\"/\");\ndocument.cookie=\"token=\".concat(data.data.token,\"; path=/; expires=\").concat(data.data.expires_at,\";\");console.log(\"cookie:\",document.cookie);window.location.href=\"/dashboard\";}// window.location.href = \"/\";\n}).catch(function(err){setLoading(false);setError(err.message);});};return/*#__PURE__*/_jsx(\"div\",{className:\"bg-light-blue-500 h-[80vh] flex justify-center items-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white w-2/5 p-4 rounded\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-center mb-4\",children:\"Register\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",className:\"block mb-2\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"username\",name:\"username\",id:\"username\",value:username,onChange:function onChange(e){return setUsername(e.target.value);},className:\"border border-gray-300 px-3 py-2 rounded w-full focus:outline-none focus:border-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"block mb-2\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",id:\"email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);},className:\"border border-gray-300 px-3 py-2 rounded w-full focus:outline-none focus:border-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"block mb-2\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",id:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},className:\"border border-gray-300 px-3 py-2 rounded w-full focus:outline-none focus:border-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password_confirmation\",className:\"block mb-2\",children:\"Password Confirmation\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password_confirmation\",id:\"password_confirmation\",value:passwordConfirmation,onChange:function onChange(e){return setPasswordConfirmation(e.target.value);},className:\"border border-gray-300 px-3 py-2 rounded w-full focus:outline-none focus:border-blue-500\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-blue-500 text-white px-3 py-2 rounded w-full focus:outline-none\",children:loading?\"Loading...\":\"Register\"})})]}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500\",children:error})]})});}","map":{"version":3,"names":["useState","Register","email","setEmail","username","setUsername","password","setPassword","passwordConfirmation","setPasswordConfirmation","error","setError","loading","setLoading","handleSubmit","e","preventDefault","fetch","process","env","REACT_APP_BACKEND_URL","method","headers","body","JSON","stringify","password_confirmation","then","res","json","data","success","message","document","cookie","token","expires_at","console","log","window","location","href","catch","err","target","value"],"sources":["/Users/yusepjaelani/Netzone/Project/nearven/file-service/client/src/pages/Auth/Register.js"],"sourcesContent":["import { useState } from \"react\";\n\nexport default function Register() {\n  const [email, setEmail] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [passwordConfirmation, setPasswordConfirmation] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setLoading(true);\n    fetch(`${process.env.REACT_APP_BACKEND_URL}/api/v1/auth/register`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        username: username,\n        email: email,\n        password: password,\n        password_confirmation: passwordConfirmation,\n      }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.success === false) {\n          setError(data.message);\n          setLoading(false);\n        } else {\n          setLoading(false);\n          //   history.push(\"/\");\n          document.cookie = `token=${data.data.token}; path=/; expires=${data.data.expires_at};`;\n          console.log(\"cookie:\", document.cookie);\n          window.location.href = \"/dashboard\";\n        }\n        // window.location.href = \"/\";\n      })\n      .catch((err) => {\n        setLoading(false);\n        setError(err.message);\n      });\n  };\n  return (\n    <div className=\"bg-light-blue-500 h-[80vh] flex justify-center items-center\">\n      <div className=\"bg-white w-2/5 p-4 rounded\">\n        <h1 className=\"text-2xl font-bold text-center mb-4\">Register</h1>\n        <form onSubmit={handleSubmit}>\n          <div className=\"mb-4\">\n            <label htmlFor=\"username\" className=\"block mb-2\">\n              Username\n            </label>\n            <input\n              type=\"username\"\n              name=\"username\"\n              id=\"username\"\n              value={username}\n              onChange={(e) => setUsername(e.target.value)}\n              className=\"border border-gray-300 px-3 py-2 rounded w-full focus:outline-none focus:border-blue-500\"\n            />\n          </div>\n          <div className=\"mb-4\">\n            <label htmlFor=\"email\" className=\"block mb-2\">\n              Email\n            </label>\n            <input\n              type=\"email\"\n              name=\"email\"\n              id=\"email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              className=\"border border-gray-300 px-3 py-2 rounded w-full focus:outline-none focus:border-blue-500\"\n            />\n          </div>\n          <div className=\"mb-4\">\n            <label htmlFor=\"password\" className=\"block mb-2\">\n              Password\n            </label>\n            <input\n              type=\"password\"\n              name=\"password\"\n              id=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              className=\"border border-gray-300 px-3 py-2 rounded w-full focus:outline-none focus:border-blue-500\"\n            />\n          </div>\n          <div className=\"mb-4\">\n            <label htmlFor=\"password_confirmation\" className=\"block mb-2\">\n              Password Confirmation\n            </label>\n            <input\n              type=\"password\"\n              name=\"password_confirmation\"\n              id=\"password_confirmation\"\n              value={passwordConfirmation}\n              onChange={(e) => setPasswordConfirmation(e.target.value)}\n              className=\"border border-gray-300 px-3 py-2 rounded w-full focus:outline-none focus:border-blue-500\"\n            />\n          </div>\n          <div className=\"mb-4\">\n            <button\n              type=\"submit\"\n              className=\"bg-blue-500 text-white px-3 py-2 rounded w-full focus:outline-none\"\n            >\n              {loading ? \"Loading...\" : \"Register\"}\n            </button>\n          </div>\n        </form>\n        {error && <p className=\"text-red-500\">{error}</p>}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}