{"ast":null,"code":"var _jsxFileName = \"/Users/yusepjaelani/Netzone/Project/nearven/file-service/client/src/components/PasswordForm.js\",\n    _s = $RefreshSig$();\n\nimport Card from '@material-tailwind/react/Card';\nimport CardHeader from '@material-tailwind/react/CardHeader';\nimport CardBody from '@material-tailwind/react/CardBody';\nimport Button from '@material-tailwind/react/Button';\nimport Input from '@material-tailwind/react/Input';\nimport { useState } from 'react';\nimport { notify } from 'assets/utils/helper';\nimport { removeCookie } from 'assets/utils/helper';\nimport { getCookie } from 'assets/utils/helper';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function PasswordForm() {\n  _s();\n\n  const [loading, setLoading] = useState(false);\n  const [data, setData] = useState({\n    password: '',\n    new_password: '',\n    new_password_confirmation: ''\n  });\n\n  const handleChangePassword = () => {\n    // const token = getCookie('token')\n    // if (token === '' || token === undefined) {\n    //     window.location.href = '/login'\n    // }\n    setLoading(true);\n    setTimeout(() => {\n      try {\n        fetch(`${process.env.REACT_APP_BACKEND_URL}/api/v1/admin/user/change-password`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${getCookie('token')}`\n          },\n          body: JSON.stringify(data)\n        }).then(res => res.json()).then(data => {\n          if (data.success === true) {\n            setLoading(false);\n            notify(data.message);\n            setTimeout(() => {\n              window.location.reload();\n            }, 200);\n          } else if (data.error.error_code === 0) {\n            removeCookie('token');\n            window.location.href = '/login';\n          } else {\n            setLoading(false);\n            notify(data.message);\n          }\n        }).catch(err => {\n          throw new Error(err);\n        });\n      } catch (err) {\n        throw new Error(err);\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Card, {\n    children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n      color: \"purple\",\n      contentPosition: \"none\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full flex items-center justify-between\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-white text-2xl\",\n          children: \"Change Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(CardBody, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap mt-10\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full lg:w-12/12 mb-10 font-light\",\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            type: \"password\",\n            color: \"purple\",\n            placeholder: \"Password\",\n            onChange: e => setData({ ...data,\n              password: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full lg:w-12/12 mb-10 font-light\",\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            type: \"password\",\n            color: \"purple\",\n            placeholder: \"New Password\",\n            onChange: e => setData({ ...data,\n              new_password: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full lg:w-12/12 mb-10 font-light\",\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            type: \"password\",\n            color: \"purple\",\n            placeholder: \"New Password Confirmation\",\n            onChange: e => setData({ ...data,\n              new_password_confirmation: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap justify-end items-center mt-5\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          color: \"purple\",\n          buttonType: \"filled\",\n          size: \"lg\",\n          ripple: \"light\",\n          onClick: () => {\n            if (data.password === '' || data.new_password === '' || data.new_password_confirmation === '') {\n              notify('Mohon isi seluruh form');\n            } else if (data.new_password !== data.new_password_confirmation) {\n              notify('Password baru tidak sama');\n            } else if (data.new_password.length < 6 || data.new_password_confirmation.length < 6) {\n              notify('Password baru minimal 6 karakter');\n            } else {\n              handleChangePassword();\n            }\n          },\n          children: loading ? 'Loading...' : 'Save'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 9\n  }, this);\n}\n\n_s(PasswordForm, \"EKSE5t3JrkwdxDk8La3bv3aG0BY=\");\n\n_c = PasswordForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"PasswordForm\");","map":{"version":3,"names":["Card","CardHeader","CardBody","Button","Input","useState","notify","removeCookie","getCookie","PasswordForm","loading","setLoading","data","setData","password","new_password","new_password_confirmation","handleChangePassword","setTimeout","fetch","process","env","REACT_APP_BACKEND_URL","method","headers","body","JSON","stringify","then","res","json","success","message","window","location","reload","error","error_code","href","catch","err","Error","e","target","value","length"],"sources":["/Users/yusepjaelani/Netzone/Project/nearven/file-service/client/src/components/PasswordForm.js"],"sourcesContent":["import Card from '@material-tailwind/react/Card';\nimport CardHeader from '@material-tailwind/react/CardHeader';\nimport CardBody from '@material-tailwind/react/CardBody';\nimport Button from '@material-tailwind/react/Button';\nimport Input from '@material-tailwind/react/Input';\nimport { useState } from 'react';\nimport { notify } from 'assets/utils/helper';\nimport { removeCookie } from 'assets/utils/helper';\nimport { getCookie } from 'assets/utils/helper';\n\nexport default function PasswordForm() {\n    const [loading, setLoading] = useState(false)\n    const [data, setData] = useState({\n        password: '',\n        new_password: '',\n        new_password_confirmation: '',\n    })\n\n    const handleChangePassword = () => {\n        // const token = getCookie('token')\n        // if (token === '' || token === undefined) {\n        //     window.location.href = '/login'\n        // }\n\n        setLoading(true)\n        setTimeout(() => {\n            try {\n                fetch(`${process.env.REACT_APP_BACKEND_URL}/api/v1/admin/user/change-password`, {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'Authorization': `Bearer ${getCookie('token')}`\n                    },\n                    body: JSON.stringify(data)\n                })\n                .then(res => res.json())\n                .then(data => {\n                    if (data.success === true) {\n                        setLoading(false)\n                        notify(data.message)\n                        setTimeout(() => {\n                            window.location.reload()\n                        }, 200)\n                    } else if (data.error.error_code === 0) {\n                        removeCookie('token')\n                        window.location.href = '/login'\n                    } else {\n                        setLoading(false)\n                        notify(data.message)\n                    }\n                })\n                .catch(err => {\n                    throw new Error(err)\n                })\n            } catch (err) {\n                throw new Error(err)\n            }\n        })\n    }\n    return (\n        <Card>\n            <CardHeader color=\"purple\" contentPosition=\"none\">\n                <div className=\"w-full flex items-center justify-between\">\n                    <h2 className=\"text-white text-2xl\">Change Password</h2>\n                </div>\n            </CardHeader>\n            <CardBody>\n                {/* <h6 className=\"text-purple-500 text-sm mt-3 mb-6 font-light uppercase\">\n                    User Information\n                </h6> */}\n                <div className=\"flex flex-wrap mt-10\">\n                    <div className=\"w-full lg:w-12/12 mb-10 font-light\">\n                        <Input\n                            type=\"password\"\n                            color=\"purple\"\n                            placeholder=\"Password\"\n                            onChange={(e) => setData({ ...data, password: e.target.value })}\n                        />\n                    </div>\n                    <div className=\"w-full lg:w-12/12 mb-10 font-light\">\n                        <Input\n                            type=\"password\"\n                            color=\"purple\"\n                            placeholder=\"New Password\"\n                            onChange={(e) => setData({ ...data, new_password: e.target.value })}\n                        />\n                    </div>\n                    <div className=\"w-full lg:w-12/12 mb-10 font-light\">\n                        <Input\n                            type=\"password\"\n                            color=\"purple\"\n                            placeholder=\"New Password Confirmation\"\n                            onChange={(e) => setData({ ...data, new_password_confirmation: e.target.value })}\n                        />\n                    </div>\n                </div>\n\n                <div className=\"flex flex-wrap justify-end items-center mt-5\">\n                    <Button color=\"purple\" buttonType=\"filled\" size=\"lg\" ripple=\"light\" onClick={() => {\n                        if (data.password === '' || data.new_password === '' || data.new_password_confirmation === '') {\n                            notify('Mohon isi seluruh form')\n                        } else if (data.new_password !== data.new_password_confirmation) {\n                            notify('Password baru tidak sama')\n                        } else if (data.new_password.length < 6 || data.new_password_confirmation.length < 6) {\n                            notify('Password baru minimal 6 karakter')\n                        } else {\n                            handleChangePassword()\n                        }\n                    }}>\n                        {loading ? 'Loading...' : 'Save'}\n                    </Button>\n                </div>\n\n            </CardBody>\n        </Card>\n    );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}