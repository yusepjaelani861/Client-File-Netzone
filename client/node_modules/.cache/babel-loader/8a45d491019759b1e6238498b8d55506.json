{"ast":null,"code":"import _slicedToArray from\"/Users/yusepjaelani/Netzone/Project/nearven/file-service/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import StatusCard from\"components/StatusCard\";import NewestFilesUpload from\"components/NewestFilesUpload\";import{useEffect,useState}from\"react\";import{getCookie}from\"assets/utils/helper\";import{removeCookie}from\"assets/utils/helper\";import ApiCard from\"components/ApiCard\";import{formatSize}from\"assets/utils/helper\";import{convertNumberToString}from\"assets/utils/helper\";import LoadingScreen from\"components/LoadingScreen\";import{notify}from\"assets/utils/helper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Dashboard(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState({total_files:\"0\",total_users:\"0\",total_usage:\"0\",total_api:\"0\",files:[],api:[]}),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];useEffect(function(){var token=getCookie(\"token\");if(token===\"\"||token===undefined){window.location.href=\"/login\";}setLoading(true);setTimeout(function(){try{fetch(\"\".concat(process.env.REACT_APP_BACKEND_URL,\"/api/v1/admin/dashboard\"),{method:\"GET\",headers:{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer \".concat(token)}}).then(function(res){return res.json();}).then(function(data){if(data.success===true){setData(data.data);setLoading(false);}else if(data.error.error_code===0){removeCookie(\"token\");window.location.href=\"/login\";}else{setLoading(false);notify(data.message);}}).catch(function(err){setLoading(false);notify(err.message);});}catch(err){setLoading(false);notify(err.message);}},500);},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[loading?/*#__PURE__*/_jsx(LoadingScreen,{}):/*#__PURE__*/_jsx(_Fragment,{}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-light-blue-500 px-3 md:px-8 h-18 mb-10\"}),/*#__PURE__*/_jsx(\"div\",{className:\"px-3 md:px-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto max-w-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 mb-4\",children:[/*#__PURE__*/_jsx(StatusCard,{color:\"pink\",icon:\"trending_up\",title:\"Files\",amount:convertNumberToString(data.total_files),percentage:\"3.48\",percentageIcon:\"arrow_upward\",percentageColor:\"green\",date:\"Since last month\"}),/*#__PURE__*/_jsx(StatusCard,{color:\"orange\",icon:\"groups\",title:\"Users\",amount:convertNumberToString(data.total_users),percentage:\"3.48\",percentageIcon:\"arrow_downward\",percentageColor:\"red\",date:\"Since last week\"}),/*#__PURE__*/_jsx(StatusCard,{color:\"purple\",icon:\"storage\",title:\"Usage\",amount:convertNumberToString(formatSize(data.total_usage)),percentage:\"1.10\",percentageIcon:\"arrow_downward\",percentageColor:\"orange\",date:\"Since yesterday\"}),/*#__PURE__*/_jsx(StatusCard,{color:\"orange\",icon:\"key\",title:\"API Keys\",amount:convertNumberToString(data.total_api),percentage:\"3.48\",percentageIcon:\"arrow_downward\",percentageColor:\"red\",date:\"Since last week\"})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"px-3 md:px-8 h-auto\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto max-w-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 xl:grid-cols-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"xl:col-start-1 xl:col-end-4 px-4 mb-14\",children:/*#__PURE__*/_jsx(NewestFilesUpload,{data:data.files})}),/*#__PURE__*/_jsx(\"div\",{className:\"xl:col-start-4 xl:col-end-6 px-4 mb-14\",children:/*#__PURE__*/_jsx(ApiCard,{data:data.api})})]})})})]});}","map":{"version":3,"names":["StatusCard","NewestFilesUpload","useEffect","useState","getCookie","removeCookie","ApiCard","formatSize","convertNumberToString","LoadingScreen","notify","Dashboard","loading","setLoading","total_files","total_users","total_usage","total_api","files","api","data","setData","token","undefined","window","location","href","setTimeout","fetch","process","env","REACT_APP_BACKEND_URL","method","headers","then","res","json","success","error","error_code","message","catch","err"],"sources":["/Users/yusepjaelani/Netzone/Project/nearven/file-service/client/src/pages/Dashboard.js"],"sourcesContent":["import StatusCard from \"components/StatusCard\";\nimport NewestFilesUpload from \"components/NewestFilesUpload\";\nimport { useEffect, useState } from \"react\";\nimport { getCookie } from \"assets/utils/helper\";\nimport { removeCookie } from \"assets/utils/helper\";\nimport ApiCard from \"components/ApiCard\";\nimport { formatSize } from \"assets/utils/helper\";\nimport { convertNumberToString } from \"assets/utils/helper\";\nimport LoadingScreen from \"components/LoadingScreen\";\nimport { notify } from \"assets/utils/helper\";\n\nexport default function Dashboard() {\n  const [loading, setLoading] = useState(false);\n  const [data, setData] = useState({\n    total_files: \"0\",\n    total_users: \"0\",\n    total_usage: \"0\",\n    total_api: \"0\",\n    files: [],\n    api: [],\n  });\n\n  useEffect(() => {\n    const token = getCookie(\"token\");\n    if (token === \"\" || token === undefined) {\n        window.location.href = \"/login\";\n    }\n\n    setLoading(true);\n    setTimeout(() => {\n        try {\n            fetch(`${process.env.REACT_APP_BACKEND_URL}/api/v1/admin/dashboard`, {\n                method: \"GET\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": `Bearer ${token}`\n                }\n            })\n              .then((res) => res.json())\n              .then((data) => {\n                if (data.success === true) {\n                    setData(data.data);\n                    setLoading(false);\n                } else if (data.error.error_code === 0) {\n                    removeCookie(\"token\");\n                    window.location.href = \"/login\";\n                } else {\n                    setLoading(false);\n                    notify(data.message);\n                }\n              })\n              .catch((err) => {\n                setLoading(false);\n                notify(err.message);\n              });\n        } catch (err) {\n            setLoading(false);\n            notify(err.message);\n        }\n    }, 500)\n  }, []);\n\n  return (\n    <>\n        {loading ? (\n            <LoadingScreen />\n        ) : (\n            <></>\n        )}\n        \n      <div className=\"bg-light-blue-500 px-3 md:px-8 h-18 mb-10\" />\n\n      <div className=\"px-3 md:px-8\">\n        <div className=\"container mx-auto max-w-full\">\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 mb-4\">\n            <StatusCard\n              color=\"pink\"\n              icon=\"trending_up\"\n              title=\"Files\"\n              amount={convertNumberToString(data.total_files)}\n              percentage=\"3.48\"\n              percentageIcon=\"arrow_upward\"\n              percentageColor=\"green\"\n              date=\"Since last month\"\n            />\n            <StatusCard\n              color=\"orange\"\n              icon=\"groups\"\n              title=\"Users\"\n              amount={convertNumberToString(data.total_users)}\n              percentage=\"3.48\"\n              percentageIcon=\"arrow_downward\"\n              percentageColor=\"red\"\n              date=\"Since last week\"\n            />\n            <StatusCard\n              color=\"purple\"\n              icon=\"storage\"\n              title=\"Usage\"\n              amount={convertNumberToString(formatSize(data.total_usage))}\n              percentage=\"1.10\"\n              percentageIcon=\"arrow_downward\"\n              percentageColor=\"orange\"\n              date=\"Since yesterday\"\n            />\n            <StatusCard\n              color=\"orange\"\n              icon=\"key\"\n              title=\"API Keys\"\n              amount={convertNumberToString(data.total_api)}\n              percentage=\"3.48\"\n              percentageIcon=\"arrow_downward\"\n              percentageColor=\"red\"\n              date=\"Since last week\"\n            />\n            {/* <StatusCard\n              color=\"blue\"\n              icon=\"poll\"\n              title=\"Performance\"\n              amount={data.performa + \"%\"}\n              percentage=\"12\"\n              percentageIcon=\"arrow_upward\"\n              percentageColor=\"green\"\n              date=\"Since last month\"\n            /> */}\n          </div>\n        </div>\n      </div>\n\n      <div className=\"px-3 md:px-8 h-auto\">\n        <div className=\"container mx-auto max-w-full\">\n          <div className=\"grid grid-cols-1 xl:grid-cols-5\">\n            <div className=\"xl:col-start-1 xl:col-end-4 px-4 mb-14\">\n              <NewestFilesUpload data={data.files} />\n            </div>\n            <div className=\"xl:col-start-4 xl:col-end-6 px-4 mb-14\">\n              <ApiCard data={data.api} />\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}