{"ast":null,"code":"var _jsxFileName = \"/Users/yusepjaelani/Netzone/Project/nearven/file-service/client/src/pages/Dashboard.js\",\n    _s = $RefreshSig$();\n\nimport StatusCard from \"components/StatusCard\";\nimport NewestFilesUpload from \"components/NewestFilesUpload\";\nimport { useEffect, useState } from \"react\";\nimport { getCookie } from \"assets/utils/helper\";\nimport { removeCookie } from \"assets/utils/helper\";\nimport ApiCard from \"components/ApiCard\";\nimport { formatSize } from \"assets/utils/helper\";\nimport { convertNumberToString } from \"assets/utils/helper\";\nimport LoadingScreen from \"components/LoadingScreen\";\nimport { notify } from \"assets/utils/helper\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Dashboard() {\n  _s();\n\n  const [loading, setLoading] = useState(false);\n  const [data, setData] = useState({\n    total_files: \"0\",\n    total_users: \"0\",\n    total_usage: \"0\",\n    total_api: \"0\",\n    files: [],\n    api: []\n  });\n  useEffect(() => {\n    // const token = getCookie(\"token\");\n    // if (token === \"\" || token === undefined) {\n    //     window.location.href = \"/login\";\n    // }\n    setLoading(true);\n    setTimeout(() => {\n      try {\n        fetch(`${process.env.REACT_APP_BACKEND_URL}/api/v1/admin/dashboard`, {\n          method: \"GET\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"Authorization\": `Bearer ${token}`\n          }\n        }).then(res => res.json()).then(data => {\n          if (data.success === true) {\n            setData(data.data);\n            setLoading(false);\n          } else if (data.error.error_code === 0) {\n            removeCookie(\"token\");\n            window.location.href = \"/login\";\n          } else {\n            setLoading(false);\n            notify(data.message);\n          }\n        }).catch(err => {\n          setLoading(false);\n          notify(err.message);\n        });\n      } catch (err) {\n        setLoading(false);\n        notify(err.message);\n      }\n    }, 500);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [loading ? /*#__PURE__*/_jsxDEV(LoadingScreen, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-light-blue-500 px-3 md:px-8 h-18 mb-10\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"px-3 md:px-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container mx-auto max-w-full\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(StatusCard, {\n            color: \"pink\",\n            icon: \"trending_up\",\n            title: \"Files\",\n            amount: convertNumberToString(data.total_files),\n            percentage: \"3.48\",\n            percentageIcon: \"arrow_upward\",\n            percentageColor: \"green\",\n            date: \"Since last month\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(StatusCard, {\n            color: \"orange\",\n            icon: \"groups\",\n            title: \"Users\",\n            amount: convertNumberToString(data.total_users),\n            percentage: \"3.48\",\n            percentageIcon: \"arrow_downward\",\n            percentageColor: \"red\",\n            date: \"Since last week\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(StatusCard, {\n            color: \"purple\",\n            icon: \"storage\",\n            title: \"Usage\",\n            amount: convertNumberToString(formatSize(data.total_usage)),\n            percentage: \"1.10\",\n            percentageIcon: \"arrow_downward\",\n            percentageColor: \"orange\",\n            date: \"Since yesterday\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(StatusCard, {\n            color: \"orange\",\n            icon: \"key\",\n            title: \"API Keys\",\n            amount: convertNumberToString(data.total_api),\n            percentage: \"3.48\",\n            percentageIcon: \"arrow_downward\",\n            percentageColor: \"red\",\n            date: \"Since last week\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"px-3 md:px-8 h-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container mx-auto max-w-full\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 xl:grid-cols-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"xl:col-start-1 xl:col-end-4 px-4 mb-14\",\n            children: /*#__PURE__*/_jsxDEV(NewestFilesUpload, {\n              data: data.files\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"xl:col-start-4 xl:col-end-6 px-4 mb-14\",\n            children: /*#__PURE__*/_jsxDEV(ApiCard, {\n              data: data.api\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Dashboard, \"ABUclm5lMrRuP/NKuFGUzTqScWk=\");\n\n_c = Dashboard;\n\nvar _c;\n\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["StatusCard","NewestFilesUpload","useEffect","useState","getCookie","removeCookie","ApiCard","formatSize","convertNumberToString","LoadingScreen","notify","Dashboard","loading","setLoading","data","setData","total_files","total_users","total_usage","total_api","files","api","setTimeout","fetch","process","env","REACT_APP_BACKEND_URL","method","headers","token","then","res","json","success","error","error_code","window","location","href","message","catch","err"],"sources":["/Users/yusepjaelani/Netzone/Project/nearven/file-service/client/src/pages/Dashboard.js"],"sourcesContent":["import StatusCard from \"components/StatusCard\";\nimport NewestFilesUpload from \"components/NewestFilesUpload\";\nimport { useEffect, useState } from \"react\";\nimport { getCookie } from \"assets/utils/helper\";\nimport { removeCookie } from \"assets/utils/helper\";\nimport ApiCard from \"components/ApiCard\";\nimport { formatSize } from \"assets/utils/helper\";\nimport { convertNumberToString } from \"assets/utils/helper\";\nimport LoadingScreen from \"components/LoadingScreen\";\nimport { notify } from \"assets/utils/helper\";\n\nexport default function Dashboard() {\n  const [loading, setLoading] = useState(false);\n  const [data, setData] = useState({\n    total_files: \"0\",\n    total_users: \"0\",\n    total_usage: \"0\",\n    total_api: \"0\",\n    files: [],\n    api: [],\n  });\n\n  useEffect(() => {\n    // const token = getCookie(\"token\");\n    // if (token === \"\" || token === undefined) {\n    //     window.location.href = \"/login\";\n    // }\n\n    setLoading(true);\n    setTimeout(() => {\n        try {\n            fetch(`${process.env.REACT_APP_BACKEND_URL}/api/v1/admin/dashboard`, {\n                method: \"GET\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": `Bearer ${token}`\n                }\n            })\n              .then((res) => res.json())\n              .then((data) => {\n                if (data.success === true) {\n                    setData(data.data);\n                    setLoading(false);\n                } else if (data.error.error_code === 0) {\n                    removeCookie(\"token\");\n                    window.location.href = \"/login\";\n                } else {\n                    setLoading(false);\n                    notify(data.message);\n                }\n              })\n              .catch((err) => {\n                setLoading(false);\n                notify(err.message);\n              });\n        } catch (err) {\n            setLoading(false);\n            notify(err.message);\n        }\n    }, 500)\n  }, []);\n\n  return (\n    <>\n        {loading ? (\n            <LoadingScreen />\n        ) : (\n            <></>\n        )}\n        \n      <div className=\"bg-light-blue-500 px-3 md:px-8 h-18 mb-10\" />\n\n      <div className=\"px-3 md:px-8\">\n        <div className=\"container mx-auto max-w-full\">\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 mb-4\">\n            <StatusCard\n              color=\"pink\"\n              icon=\"trending_up\"\n              title=\"Files\"\n              amount={convertNumberToString(data.total_files)}\n              percentage=\"3.48\"\n              percentageIcon=\"arrow_upward\"\n              percentageColor=\"green\"\n              date=\"Since last month\"\n            />\n            <StatusCard\n              color=\"orange\"\n              icon=\"groups\"\n              title=\"Users\"\n              amount={convertNumberToString(data.total_users)}\n              percentage=\"3.48\"\n              percentageIcon=\"arrow_downward\"\n              percentageColor=\"red\"\n              date=\"Since last week\"\n            />\n            <StatusCard\n              color=\"purple\"\n              icon=\"storage\"\n              title=\"Usage\"\n              amount={convertNumberToString(formatSize(data.total_usage))}\n              percentage=\"1.10\"\n              percentageIcon=\"arrow_downward\"\n              percentageColor=\"orange\"\n              date=\"Since yesterday\"\n            />\n            <StatusCard\n              color=\"orange\"\n              icon=\"key\"\n              title=\"API Keys\"\n              amount={convertNumberToString(data.total_api)}\n              percentage=\"3.48\"\n              percentageIcon=\"arrow_downward\"\n              percentageColor=\"red\"\n              date=\"Since last week\"\n            />\n            {/* <StatusCard\n              color=\"blue\"\n              icon=\"poll\"\n              title=\"Performance\"\n              amount={data.performa + \"%\"}\n              percentage=\"12\"\n              percentageIcon=\"arrow_upward\"\n              percentageColor=\"green\"\n              date=\"Since last month\"\n            /> */}\n          </div>\n        </div>\n      </div>\n\n      <div className=\"px-3 md:px-8 h-auto\">\n        <div className=\"container mx-auto max-w-full\">\n          <div className=\"grid grid-cols-1 xl:grid-cols-5\">\n            <div className=\"xl:col-start-1 xl:col-end-4 px-4 mb-14\">\n              <NewestFilesUpload data={data.files} />\n            </div>\n            <div className=\"xl:col-start-4 xl:col-end-6 px-4 mb-14\">\n              <ApiCard data={data.api} />\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}